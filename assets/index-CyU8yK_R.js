import{c as ne,r as D,R as Tt}from"./index-DbYkr5Sb.js";var ut={exports:{}},lt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt;function re(){if(Wt)return lt;Wt=1;var t=ne();function e(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,u=t.useEffect,s=t.useLayoutEffect,i=t.useDebugValue;function p(a,l){var f=l(),y=r({inst:{value:f,getSnapshot:l}}),d=y[0].inst,M=y[1];return s(function(){d.value=f,d.getSnapshot=l,R(d)&&M({inst:d})},[a,f,l]),u(function(){return R(d)&&M({inst:d}),a(function(){R(d)&&M({inst:d})})},[a]),i(f),f}function R(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!n(a,f)}catch{return!0}}function C(a,l){return l()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C:p;return lt.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,lt}var Pt;function se(){return Pt||(Pt=1,ut.exports=re()),ut.exports}var oe=se();const kt=0,zt=1,Bt=2,qt=3;var Mt=Object.prototype.hasOwnProperty;function St(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&St(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Mt.call(t,n)&&++r&&!Mt.call(e,n)||!(n in e)||!St(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const j=new WeakMap,P=()=>{},T=P(),mt=Object,c=t=>t===T,x=t=>typeof t=="function",q=(t,e)=>({...t,...e}),Gt=t=>x(t.then),ft={},st={},yt="undefined",Z=typeof window!=yt,vt=typeof document!=yt,ie=Z&&"Deno"in window,ae=()=>Z&&typeof window.requestAnimationFrame!=yt,Jt=(t,e)=>{const n=j.get(t);return[()=>!c(e)&&t.get(e)||ft,r=>{if(!c(e)){const u=t.get(e);e in st||(st[e]=u),n[5](e,q(u,r),u||ft)}},n[6],()=>!c(e)&&e in st?st[e]:!c(e)&&t.get(e)||ft]};let wt=!0;const ce=()=>wt,[gt,Ot]=Z&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[P,P],ue=()=>{const t=vt&&document.visibilityState;return c(t)||t!=="hidden"},le=t=>(vt&&document.addEventListener("visibilitychange",t),gt("focus",t),()=>{vt&&document.removeEventListener("visibilitychange",t),Ot("focus",t)}),fe=t=>{const e=()=>{wt=!0,t()},n=()=>{wt=!1};return gt("online",e),gt("offline",n),()=>{Ot("online",e),Ot("offline",n)}},de={isOnline:ce,isVisible:ue},Ee={initFocus:le,initReconnect:fe},Ut=!Tt.useId,Q=!Z||ie,he=t=>ae()?window.requestAnimationFrame(t):setTimeout(t,1),dt=Q?D.useEffect:D.useLayoutEffect,Et=typeof navigator<"u"&&navigator.connection,Ht=!Q&&Et&&(["slow-2g","2g"].includes(Et.effectiveType)||Et.saveData),ot=new WeakMap,ht=(t,e)=>mt.prototype.toString.call(t)===`[object ${e}]`;let pe=0;const Dt=t=>{const e=typeof t,n=ht(t,"Date"),r=ht(t,"RegExp"),u=ht(t,"Object");let s,i;if(mt(t)===t&&!n&&!r){if(s=ot.get(t),s)return s;if(s=++pe+"~",ot.set(t,s),Array.isArray(t)){for(s="@",i=0;i<t.length;i++)s+=Dt(t[i])+",";ot.set(t,s)}if(u){s="#";const p=mt.keys(t).sort();for(;!c(i=p.pop());)c(t[i])||(s+=i+":"+Dt(t[i])+",");ot.set(t,s)}}else s=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},Ct=t=>{if(x(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Dt(t):"",[t,e]};let Re=0;const _t=()=>++Re;async function Kt(...t){const[e,n,r,u]=t,s=q({populateCache:!0,throwOnError:!0},typeof u=="boolean"?{revalidate:u}:u||{});let i=s.populateCache;const p=s.rollbackOnError;let R=s.optimisticData;const C=l=>typeof p=="function"?p(l):p!==!1,v=s.throwOnError;if(x(n)){const l=n,f=[],y=e.keys();for(const d of y)!/^\$(inf|sub)\$/.test(d)&&l(e.get(d)._k)&&f.push(d);return Promise.all(f.map(a))}return a(n);async function a(l){const[f]=Ct(l);if(!f)return;const[y,d]=Jt(e,f),[M,o,tt,Y]=j.get(e),W=()=>{const A=M[f];return(x(s.revalidate)?s.revalidate(y().data,l):s.revalidate!==!1)&&(delete tt[f],delete Y[f],A&&A[0])?A[0](Bt).then(()=>y().data):y().data};if(t.length<3)return W();let g=r,b;const $=_t();o[f]=[$,0];const S=!c(R),k=y(),V=k.data,z=k._c,U=c(z)?V:z;if(S&&(R=x(R)?R(U,V):R,d({data:R,_c:U})),x(g))try{g=g(U)}catch(A){b=A}if(g&&Gt(g))if(g=await g.catch(A=>{b=A}),$!==o[f][0]){if(b)throw b;return g}else b&&S&&C(b)&&(i=!0,d({data:U,_c:T}));if(i&&!b)if(x(i)){const A=i(g,U);d({data:A,error:T,_c:T})}else d({data:g,error:T,_c:T});if(o[f][1]=_t(),Promise.resolve(W()).then(()=>{d({_c:T})}),b){if(v)throw b;return}return g}}const $t=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Se=(t,e)=>{if(!j.has(t)){const n=q(Ee,e),r=Object.create(null),u=Kt.bind(T,t);let s=P;const i=Object.create(null),p=(v,a)=>{const l=i[v]||[];return i[v]=l,l.push(a),()=>l.splice(l.indexOf(a),1)},R=(v,a,l)=>{t.set(v,a);const f=i[v];if(f)for(const y of f)y(a,l)},C=()=>{if(!j.has(t)&&(j.set(t,[r,Object.create(null),Object.create(null),Object.create(null),u,R,p]),!Q)){const v=n.initFocus(setTimeout.bind(T,$t.bind(T,r,kt))),a=n.initReconnect(setTimeout.bind(T,$t.bind(T,r,zt)));s=()=>{v&&v(),a&&a(),j.delete(t)}}};return C(),[t,u,C,s]}return[t,j.get(t)[4]]},me=(t,e,n,r,u)=>{const s=n.errorRetryCount,i=u.retryCount,p=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!c(s)&&i>s||setTimeout(r,p,u)},ve=St,[Yt,we]=Se(new Map),ge=q({onLoadingSlow:P,onSuccess:P,onError:P,onErrorRetry:me,onDiscarded:P,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ht?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ht?5e3:3e3,compare:ve,isPaused:()=>!1,cache:Yt,mutate:we,fallback:{}},de),Oe=(t,e)=>{const n=q(t,e);if(e){const{use:r,fallback:u}=t,{use:s,fallback:i}=e;r&&s&&(n.use=r.concat(s)),u&&i&&(n.fallback=q(u,i))}return n},De=D.createContext({}),_e="$inf$",Xt=Z&&window.__SWR_DEVTOOLS_USE__,Te=Xt?window.__SWR_DEVTOOLS_USE__:[],ye=()=>{Xt&&(window.__SWR_DEVTOOLS_REACT__=Tt)},Ce=t=>x(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],be=()=>q(ge,D.useContext(De)),Ie=t=>(e,n,r)=>t(e,n&&((...s)=>{const[i]=Ct(e),[,,,p]=j.get(Yt);if(i.startsWith(_e))return n(...s);const R=p[i];return c(R)?n(...s):(delete p[i],R)}),r),Ae=Te.concat(Ie),Le=t=>function(...n){const r=be(),[u,s,i]=Ce(n),p=Oe(r,i);let R=t;const{use:C}=p,v=(C||[]).concat(Ae);for(let a=v.length;a--;)R=v[a](R);return R(u,s||p.fetcher||null,p)},Ve=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const u=r.indexOf(n);u>=0&&(r[u]=r[r.length-1],r.pop())}};ye();const pt=Tt.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),Rt={dedupe:!0},xe=(t,e,n)=>{const{cache:r,compare:u,suspense:s,fallbackData:i,revalidateOnMount:p,revalidateIfStale:R,refreshInterval:C,refreshWhenHidden:v,refreshWhenOffline:a,keepPreviousData:l}=n,[f,y,d,M]=j.get(r),[o,tt]=Ct(t),Y=D.useRef(!1),W=D.useRef(!1),g=D.useRef(o),b=D.useRef(e),$=D.useRef(n),S=()=>$.current,k=()=>S().isVisible()&&S().isOnline(),[V,z,U,A]=Jt(r,o),B=D.useRef({}).current,et=c(i)?c(n.fallback)?T:n.fallback[o]:i,bt=(h,E)=>{for(const O in B){const m=O;if(m==="data"){if(!u(h[m],E[m])&&(!c(h[m])||!u(rt,E[m])))return!1}else if(E[m]!==h[m])return!1}return!0},It=D.useMemo(()=>{const h=!o||!e?!1:c(p)?S().isPaused()||s?!1:R!==!1:p,E=_=>{const N=q(_);return delete N._k,h?{isValidating:!0,isLoading:!0,...N}:N},O=V(),m=A(),L=E(O),K=O===m?L:E(m);let w=L;return[()=>{const _=E(V());return bt(_,w)?(w.data=_.data,w.isLoading=_.isLoading,w.isValidating=_.isValidating,w.error=_.error,w):(w=_,_)},()=>K]},[r,o]),G=oe.useSyncExternalStore(D.useCallback(h=>U(o,(E,O)=>{bt(O,E)||h()}),[r,o]),It[0],It[1]),At=!Y.current,Qt=f[o]&&f[o].length>0,J=G.data,H=c(J)?et&&Gt(et)?pt(et):et:J,nt=G.error,it=D.useRef(H),rt=l?c(J)?c(it.current)?H:it.current:J:H,Lt=Qt&&!c(nt)?!1:At&&!c(p)?p:S().isPaused()?!1:s?c(H)?!1:R:c(H)||R,Vt=!!(o&&e&&At&&Lt),Zt=c(G.isValidating)?Vt:G.isValidating,te=c(G.isLoading)?Vt:G.isLoading,X=D.useCallback(async h=>{const E=b.current;if(!o||!E||W.current||S().isPaused())return!1;let O,m,L=!0;const K=h||{},w=!d[o]||!K.dedupe,_=()=>Ut?!W.current&&o===g.current&&Y.current:o===g.current,N={isValidating:!1,isLoading:!1},Nt=()=>{z(N)},Ft=()=>{const I=d[o];I&&I[1]===m&&delete d[o]},jt={isValidating:!0};c(V().data)&&(jt.isLoading=!0);try{if(w&&(z(jt),n.loadingTimeout&&c(V().data)&&setTimeout(()=>{L&&_()&&S().onLoadingSlow(o,n)},n.loadingTimeout),d[o]=[E(tt),_t()]),[O,m]=d[o],O=await O,w&&setTimeout(Ft,n.dedupingInterval),!d[o]||d[o][1]!==m)return w&&_()&&S().onDiscarded(o),!1;N.error=T;const I=y[o];if(!c(I)&&(m<=I[0]||m<=I[1]||I[1]===0))return Nt(),w&&_()&&S().onDiscarded(o),!1;const F=V().data;N.data=u(F,O)?F:O,w&&_()&&S().onSuccess(O,o,n)}catch(I){Ft();const F=S(),{shouldRetryOnError:at}=F;F.isPaused()||(N.error=I,w&&_()&&(F.onError(I,o,F),(at===!0||x(at)&&at(I))&&(!S().revalidateOnFocus||!S().revalidateOnReconnect||k())&&F.onErrorRetry(I,o,F,ee=>{const ct=f[o];ct&&ct[0]&&ct[0](qt,ee)},{retryCount:(K.retryCount||0)+1,dedupe:!0})))}return L=!1,Nt(),!0},[o,r]),xt=D.useCallback((...h)=>Kt(r,g.current,...h),[]);if(dt(()=>{b.current=e,$.current=n,c(J)||(it.current=J)}),dt(()=>{if(!o)return;const h=X.bind(T,Rt);let E=0;S().revalidateOnFocus&&(E=Date.now()+S().focusThrottleInterval);const m=Ve(o,f,(L,K={})=>{if(L==kt){const w=Date.now();S().revalidateOnFocus&&w>E&&k()&&(E=w+S().focusThrottleInterval,h())}else if(L==zt)S().revalidateOnReconnect&&k()&&h();else{if(L==Bt)return X();if(L==qt)return X(K)}});return W.current=!1,g.current=o,Y.current=!0,z({_k:tt}),Lt&&(c(H)||Q?h():he(h)),()=>{W.current=!0,m()}},[o]),dt(()=>{let h;function E(){const m=x(C)?C(V().data):C;m&&h!==-1&&(h=setTimeout(O,m))}function O(){!V().error&&(v||S().isVisible())&&(a||S().isOnline())?X(Rt).then(E):E()}return E(),()=>{h&&(clearTimeout(h),h=-1)}},[C,v,a,o]),D.useDebugValue(rt),s&&c(H)&&o){if(!Ut&&Q)throw new Error("Fallback data is required when using Suspense in SSR.");b.current=e,$.current=n,W.current=!1;const h=M[o];if(!c(h)){const E=xt(h);pt(E)}if(c(nt)){const E=X(Rt);c(rt)||(E.status="fulfilled",E.value=!0),pt(E)}else throw nt}return{mutate:xt,get data(){return B.data=!0,rt},get error(){return B.error=!0,nt},get isValidating(){return B.isValidating=!0,Zt},get isLoading(){return B.isLoading=!0,te}}},je=Le(xe);export{je as u};
