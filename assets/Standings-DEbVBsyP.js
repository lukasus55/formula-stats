import{j as s,L as h,f as m,u as x,a as j,b as o,r as u,w as v,H as N}from"./index-CDWk-wgH.js";import{u as p}from"./index-Bq5grlGF.js";import{L as f}from"./LoadingMini-CP0TgN6t.js";import{c as b}from"./createLucideIcon-DXmbuI-r.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],S=b("ChevronDown",w);function D({results:t}){const n=window.innerWidth<=768;return s.jsxs("table",{className:"standings-list standings-drivers-list",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"standings-drivers-list-header",children:[s.jsx("th",{className:"standings-drivers-list-position",children:" # "}),s.jsx("th",{className:"standings-drivers-list-driver",children:" Driver "}),s.jsx("th",{className:"standings-drivers-list-constructor",children:" Constructor "}),s.jsx("th",{className:"standings-drivers-list-points",children:" Points "})]},"header")}),s.jsx("tbody",{children:t.map((e,a)=>s.jsxs("tr",{className:"fade-in",children:[s.jsx("td",{className:"standings-drivers-list-position",children:e.positionText}),s.jsx("td",{className:"standings-drivers-list-driver",children:s.jsxs(h,{to:`/drivers?id=${e.Driver.driverId}`,children:[n?`${e.Driver.givenName[0]}.`:e.Driver.givenName,"Â ",s.jsx("span",{className:"standings-drivers-list-driver-familyName",children:e.Driver.familyName})]})}),s.jsx("td",{className:"standings-drivers-list-constructor",children:e.Constructors[0].name}),s.jsx("td",{className:"standings-drivers-list-points",children:e.points})]},a))})]})}function C({results:t}){return s.jsxs("table",{className:"standings-list standings-teams-list",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"standings-teams-list-header",children:[s.jsx("th",{className:"standings-teams-list-position",children:" # "}),s.jsx("th",{className:"standings-teams-list-constructor",children:" Constructor "}),s.jsx("th",{className:"standings-teams-list-wins",children:" Wins "}),s.jsx("th",{className:"standings-teams-list-points",children:" Points "})]},"header")}),s.jsx("tbody",{children:t.map((n,e)=>s.jsxs("tr",{className:"fade-in",children:[s.jsx("td",{className:"standings-teams-list-position",children:n.positionText}),s.jsx("td",{className:"standings-teams-list-constructor",children:s.jsx(h,{to:`/constructor?id=${n.Constructor.constructorId}`,children:n.Constructor.name})}),s.jsx("td",{className:"standings-teams-list-wins",children:n.wins}),s.jsx("td",{className:"standings-teams-list-points",children:n.points})]},e))})]})}function $({season:t,mode:n}){let e=new Date().getFullYear();if(t<1950||t>e)return s.jsx("div",{className:"standings-loading-error",children:"No data for this season."});const{data:a,error:i,isLoading:d}=p(`https://api.jolpi.ca/ergast/f1/${t}/${n}/?limit=100`,m);if(i)return s.jsx("div",{className:"standings-loading-error",children:"Failed to load."});if(d)return s.jsx("div",{className:"standings-loading",children:s.jsx(f,{})});let r=[];try{n==="driverstandings"?r=a.MRData.StandingsTable.StandingsLists[0].DriverStandings:r=a.MRData.StandingsTable.StandingsLists[0].ConstructorStandings}catch{return s.jsx("div",{className:"standings-loading-error",children:"No data for this season."})}return n==="driverstandings"?s.jsx(D,{results:r}):s.jsx(C,{results:r})}function L(){let t=new Date().getFullYear();const n=x();let e=Array.from({length:t-1950+1},(i,d)=>t-d);const a=window.innerWidth<=768;return s.jsx("div",{className:"standings-table-dropdown-content",children:s.jsx("ol",{className:"standings-table-dropdown-list",children:e.map(i=>s.jsx("li",{className:"standings-table-dropdown-year",onClick:()=>n(`/standings?season=${i}`),children:a?i:`Season ${i}`},i))})})}function E(){let t=new Date().getFullYear(),n=t;const e=j(),a=new URLSearchParams(e.search).get("season");let i=[];a&&(i=a.split("_")),i[0]&&(n=i[0]);let[d,r]=o(!0),[l,c]=o(!1);u.useEffect(()=>{i[1]==="c"&&r()},[]);let g=v().width<=768;return s.jsxs(s.Fragment,{children:[s.jsxs(N,{children:[s.jsxs("title",{children:["F1 Statistics - ",n.toString()," Standings"]}),s.jsx("meta",{name:"description",content:`F1 Stats - Drivers and constructors tandings from 1950 to ${t}}`})]}),s.jsxs("div",{className:"standings-container",children:[s.jsx("div",{className:"standings-title",children:s.jsx("h3",{children:"F1 Standings"})}),s.jsxs("div",{className:"standings-table",children:[s.jsxs("div",{className:"standings-table-header",children:[s.jsxs("div",{className:"standings-table-header-left",children:[s.jsxs("div",{className:"standings-table-header-title",children:[" ",s.jsxs("h6",{children:[" Season ",n," Standings "]})]}),s.jsxs("div",{className:"standings-table-header-mode-buttons",children:[s.jsx("div",{className:`standings-table-header-mode-drivers-button ${d===!0?"standings-table-header-mode-button-active":""}`,onClick:r,children:" Drivers "}),s.jsx("div",{className:`standings-table-header-mode-teams-button ${d===!1?"standings-table-header-mode-button-active":""}`,onClick:r,children:" Teams "})]})]}),s.jsx("div",{className:"standings-table-header-right",children:s.jsxs("div",{className:"standings-table-dropdown-container",children:[s.jsxs("div",{className:"standings-table-dropdown-current",onClick:c,children:[s.jsx("div",{className:"standings-table-dropdown-current-text",children:s.jsxs("span",{children:[g?n:`Season ${n}`," "]})}),s.jsx("div",{className:"standings-table-dropdown-current-expand-icon",children:s.jsx(S,{size:"16"})})]}),s.jsx("div",{className:"standings-table-dropdown-box",onClick:c,children:l&&s.jsx(L,{})})]})})]}),s.jsx($,{season:n.toString(),mode:d?"driverstandings":"constructorstandings"})]})]})]})}export{E as default};
